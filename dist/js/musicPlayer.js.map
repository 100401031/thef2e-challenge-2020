{"version":3,"sources":["musicPlayer.js"],"names":["tag","document","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","player","onYouTubeIframeAPIReady","YT","Player","height","width","videoId","playerVars","controls","events","onReady","vm","onPlayerReady","onStateChange","onPlayerStateChange","$","Vue","el","data","currentPlayList","playingPlayList","currentSong","isCued","isPlaying","isPause","isBuffering","isEnded","currentTime","durationTime","loadedFraction","playingTimer","loadingTimer","sidebarHide","playerState","screenWidth","body","clientWidth","listPauseHover","volume","preVolume","randomMode","randomPreviousSong","favoriteList","playList","watch","newVal","PlayerState","CUED","PLAYING","PAUSED","ENDED","playNextSong","BUFFERING","setPlayerTimer","getDuration","clearPlayerTimer","oldVal","computed","cdRotate","playPercentage","parseFloat","toFixed","loadingPercentage","currentPlayListSong","song","isCurrentPlayFavorite","some","item","methods","getVolume","setVolume","e","target","value","muteVolume","event","setCurrentPlaylist","key","favoritePlaylist","title","setCurrentSong","songObj","cueVideoById","playCurrentSong","setCdCoverImg","coverImgFileName","playVideo","push","playRandomSong","currentIndex","indexOf","currentListLength","length","playPreviousSong","preSongArrayLength","seekTo","splice","lastSongIndex","randomSongIndex","randomIndex","Math","floor","random","toggleRandomMode","imageName","style","getElementById","backgroundImage","getCurrentTime","getVideoLoadedFraction","setInterval","buffer","clearInterval","handleCollapse","changeCurrentTime","setTimeout","clearTimeout","handlePlayBtn","pauseVideo","addToFavorite","alreadyInList","find","index","favoriteListJson","JSON","stringify","localStorage","setItem","isListSongFavorite","filters","timeFormat","time","min","parseInt","sec","created","localFavoriteList","parse","getItem","getJSON","Object","keys"],"mappings":"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","sourcesContent":["// This code loads the IFrame Player API code asynchronously.\nvar tag = document.createElement('script');\ntag.src = 'https://www.youtube.com/iframe_api';\nvar firstScriptTag = document.getElementsByTagName('script')[0];\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\nvar player;\nfunction onYouTubeIframeAPIReady() {\n  player = new YT.Player('yt-iframe-player', {\n    height: '0',\n    width: '0',\n    videoId: 'H7pOrQEnc3c',\n    playerVars: { controls: 0 },\n    events: {\n      onReady: vm.onPlayerReady,\n      onStateChange: vm.onPlayerStateChange\n    }\n  });\n}\n\nvar vm;\n$(function () {\n  vm = new Vue({\n    el: '#app',\n    data: {\n      currentPlayList: {},\n      playingPlayList: null,\n      currentSong: null,\n      isCued: false,\n      isPlaying: false,\n      isPause: false,\n      isBuffering: false,\n      isEnded: false,\n      currentTime: 0,\n      durationTime: 0,\n      loadedFraction: 0,\n      playingTimer: null,\n      loadingTimer: null,\n      sidebarHide: false,\n      playerState: null,\n      screenWidth: document.body.clientWidth,\n      listPauseHover: false,\n      volume: 50,\n      preVolume: null,\n      randomMode: false,\n      randomPreviousSong: [],\n      favoriteList: [],\n      playList: {\n        // '#pl-1': {\n        //   title: '周杰倫金曲',\n        //   song: [\n        //     {\n        //       title: '蝸牛',\n        //       artist: '周杰倫',\n        //       album: '范特西',\n        //       videoId: 'H7pOrQEnc3c',\n        //       coverImgFileName: 'jay_chou.jpg'\n        //     },\n        //     {\n        //       title: '世界末日',\n        //       artist: '周杰倫',\n        //       album: '范特西',\n        //       videoId: 'NDFULbHgL6E',\n        //       coverImgFileName: 'jay_chou.jpg'\n        //     },\n        //     {\n        //       title: '晴天',\n        //       artist: '周杰倫',\n        //       album: '葉惠美',\n        //       videoId: 'DYptgVvkVLQ',\n        //       coverImgFileName: 'jay_chou.jpg'\n        //     }\n        //   ]\n        // },\n        // '#pl-2': {\n        //   title: '張震嶽精選',\n        //   song: [\n        //     {\n        //       title: '思念是一種病',\n        //       artist: '張震嶽',\n        //       album: 'OK',\n        //       videoId: '9ei1PUmDz98',\n        //       coverImgFileName: 'Ayal_Komod.png'\n        //     },\n        //     {\n        //       title: '愛我別走',\n        //       artist: '張震嶽',\n        //       album: '秘密基地',\n        //       videoId: 'zPeMFCDPgKE',\n        //       coverImgFileName: 'Ayal_Komod.png'\n        //     },\n        //     {\n        //       title: '自由',\n        //       artist: '張震嶽',\n        //       album: '秘密基地',\n        //       videoId: '_dsyAjwf620',\n        //       coverImgFileName: 'Ayal_Komod.png'\n        //     }\n        //   ]\n        // }\n      }\n    },\n    watch: {\n      playerState(newVal) {\n        this.isBuffering = false;\n        this.isEnded = false;\n        this.isCued = false;\n        if (newVal == YT.PlayerState.CUED) {\n          this.isCued = true;\n        } else if (newVal == YT.PlayerState.PLAYING) {\n          this.isPlaying = true;\n          this.isPause = false;\n        } else if (newVal == YT.PlayerState.PAUSED) {\n          this.isPause = true;\n          this.isPlaying = false;\n        } else if (newVal == YT.PlayerState.ENDED) {\n          this.isEnded = true;\n          this.playNextSong();\n        } else if (newVal == YT.PlayerState.BUFFERING) {\n          this.isBuffering = true;\n        } else {\n          this.isPause = false;\n          this.isPlaying = false;\n        }\n      },\n      isPlaying(newVal) {\n        if (newVal) {\n          this.setPlayerTimer();\n          this.durationTime = player.getDuration();\n        } else {\n          this.clearPlayerTimer();\n        }\n      },\n      playingPlayList(newVal, oldVal) {\n        if (newVal != oldVal) {\n          this.randomPreviousSong = [];\n        }\n      }\n    },\n    computed: {\n      cdRotate() {\n        return (this.isPlaying || this.isPause) && !this.isEnded;\n      },\n      playPercentage() {\n        return parseFloat((this.currentTime / this.durationTime).toFixed(4)) || 0;\n      },\n      loadingPercentage() {\n        return parseFloat(this.loadedFraction.toFixed(3));\n      },\n      currentPlayListSong() {\n        return this.currentPlayList.song || [];\n      },\n      isCurrentPlayFavorite() {\n        if (this.currentSong)\n          return this.favoriteList.some(item => item.videoId == this.currentSong.videoId);\n        else return false;\n      }\n    },\n    methods: {\n      onPlayerReady() {\n        this.volume = player.getVolume();\n      },\n      setVolume(e) {\n        this.volume = e.target.value;\n        player.setVolume(this.volume);\n      },\n      muteVolume() {\n        if (this.volume > 0) {\n          this.preVolume = this.volume;\n          this.volume = 0;\n        } else if (this.volume < 1 && this.preVolume) {\n          this.volume = this.preVolume;\n          this.preVolume = null;\n        }\n        player.setVolume(this.volume);\n      },\n      onPlayerStateChange(event) {\n        this.playerState = event.data;\n      },\n      setCurrentPlaylist(key) {\n        if (key === 'favorite') {\n          const favoritePlaylist = {\n            title: '我的最愛',\n            song: this.favoriteList\n          };\n          this.currentPlayList = favoritePlaylist;\n          return;\n        }\n        this.currentPlayList = this.playList[key];\n      },\n      setCurrentSong(songObj) {\n        this.currentSong = songObj;\n        player.cueVideoById({\n          videoId: this.currentSong.videoId\n        });\n        this.currentTime = 0;\n        this.durationTime = 0;\n        this.loadedFraction = 0;\n      },\n      playCurrentSong(songObj) {\n        this.setCurrentSong(songObj);\n        this.setCdCoverImg(songObj.coverImgFileName);\n        this.playingPlayList = this.currentPlayList;\n        player.playVideo();\n      },\n      playNextSong() {\n        if (this.randomMode) {\n          //存取曾播放之歌曲讓使用者能播放上一首\n          this.randomPreviousSong.push(this.currentSong);\n          this.playRandomSong();\n          return;\n        }\n        //抓取現在索引值，確認是否為最後一首，處理true/false不同邏輯\n        const currentIndex = this.currentPlayList.song.indexOf(this.currentSong);\n        const currentListLength = this.currentPlayList.song.length;\n        if (currentIndex + 1 === currentListLength) {\n          //若為最後一首，則播放清單第一首\n          this.playCurrentSong(this.currentPlayList.song[0]);\n        } else {\n          this.playCurrentSong(this.currentPlayList.song[currentIndex + 1]);\n        }\n      },\n      playPreviousSong() {\n        if (this.randomMode) {\n          //若隨機播放紀錄無上一首則播放目前歌曲\n          const preSongArrayLength = this.randomPreviousSong.length;\n          if (preSongArrayLength === 0) {\n            player.seekTo(0);\n          } else {\n            //播放隨機播放紀錄上一首，並從陣列中將移除\n            this.playCurrentSong(this.randomPreviousSong[preSongArrayLength - 1]);\n            this.randomPreviousSong.splice(-1, 1);\n          }\n          return;\n        }\n        //抓取現在索引值，確認是否為第一首，處理true/false不同邏輯，並播放下一索引歌曲\n        const currentIndex = this.currentPlayList.song.indexOf(this.currentSong);\n        const lastSongIndex = this.currentPlayList.song.length - 1;\n        //若為第一首\n        if (currentIndex === 0) {\n          this.playCurrentSong(this.currentPlayList.song[lastSongIndex]);\n        } else {\n          this.playCurrentSong(this.currentPlayList.song[currentIndex - 1]);\n        }\n        // playCurrentSong();\n      },\n      playRandomSong() {\n        const currentIndex = this.currentPlayList.song.indexOf(this.currentSong);\n        const currentListLength = this.currentPlayList.song.length;\n        const randomSongIndex = () => {\n          let randomIndex = Math.floor(Math.random() * currentListLength);\n          if (randomIndex === currentIndex) return randomSongIndex();\n          else return randomIndex;\n        };\n        this.playCurrentSong(this.currentPlayList.song[randomSongIndex()]);\n      },\n      toggleRandomMode() {\n        this.randomMode = !this.randomMode;\n        this.randomPreviousSong = [];\n      },\n      setCdCoverImg(imageName) {\n        const style = `url('../image/MusicPlayer/albumCover/${imageName}')`;\n        document.getElementById('cd').style.backgroundImage = style;\n      },\n      setPlayerTimer() {\n        this.currentTime = player.getCurrentTime();\n        this.loadedFraction = player.getVideoLoadedFraction();\n        this.playingTimer = setInterval(() => {\n          if (!this.buffer) {\n            this.currentTime = player.getCurrentTime();\n          }\n        }, 1000 / 29);\n        this.loadingTimer = setInterval(() => {\n          this.loadedFraction = player.getVideoLoadedFraction();\n        }, 5000);\n      },\n      clearPlayerTimer() {\n        clearInterval(this.playingTimer);\n        clearInterval(this.loadingTimer);\n      },\n      handleCollapse() {\n        this.sidebarHide = !this.sidebarHide;\n      },\n      changeCurrentTime(e) {\n        this.buffer = setTimeout(() => {\n          clearTimeout(this.buffer);\n          this.buffer = null;\n        }, 1000);\n        this.currentTime = e.target.value;\n        player.seekTo(e.target.value);\n      },\n      handlePlayBtn() {\n        if (this.isPause || this.isEnded) {\n          player.playVideo();\n        } else {\n          player.pauseVideo();\n        }\n      },\n      addToFavorite(songObj) {\n        const alreadyInList = this.favoriteList.find(item => item.videoId == songObj.videoId);\n        if (alreadyInList) {\n          const index = this.favoriteList.indexOf(alreadyInList);\n          this.favoriteList.splice(index, 1);\n        } else {\n          this.favoriteList.push(songObj);\n        }\n        const favoriteListJson = JSON.stringify(this.favoriteList);\n        localStorage.setItem('favoriteList', favoriteListJson);\n      },\n      isListSongFavorite(songObj) {\n        return this.favoriteList.some(item => item.videoId == songObj.videoId);\n      }\n    },\n    filters: {\n      timeFormat(time) {\n        //將秒數轉換成mm:ss格式字串並回傳\n        let min = parseInt(time / 60) || 0;\n        let sec = parseInt(time) % 60 || 0;\n        return `${min}:${sec > 9 ? sec : '0' + sec}`;\n      }\n    },\n    created() {\n      const localFavoriteList = JSON.parse(localStorage.getItem('favoriteList')) || [];\n      this.favoriteList = localFavoriteList;\n      $.getJSON('../json/MusicPlayer/playList.json', data => {\n        this.playList = data;\n        this.setCurrentPlaylist(Object.keys(this.playList)[0]);\n      });\n    }\n  });\n});\n"],"file":"musicPlayer.js"}