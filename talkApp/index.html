<!DOCTYPE html>
<html lang="zh-Hant-TW">
  <head><!-- Global site tag (gtag.js) - Google Analytics -->
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-160055773-3" async></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-160055773-3');
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"><!-- Search Engine -->
<meta name="description" content="Talk App">
<meta name="image" content>
<!-- Schema.org for Google -->
<meta itemprop="name" content="Talk App">
<meta itemprop="description" content="Talk App">
<meta itemprop="image" content>
<!-- Open Graph general (Facebook, Pinterest & Google+) -->
<meta property="og:title" content="Talk App">
<meta property="og:description" content="Talk App">
<meta property="og:site_name" content="Talk App">
<meta property="og:locale" content="zh_TW">
<meta property="og:type" content="website">
    <title>Talk App</title>
    <link rel="stylesheet" href="./css/normalize.css">
    <link rel="shortcut icon" href="./image/favicon/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./css/talkApp.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css">
  </head>
  <body>
    <div id="app">
      <div class="main_container">
        <div class="sidebar">
          <div class="section_title">Channel</div>
          <ul class="group_list">
            <li v-for="(item,index) in groups" :key="item.id" :class="{active:item.id==currentGroup.id}" @click="currentGroup=item">{{index+1}}. {{item.title}}</li>
          </ul>
        </div>
        <div class="main_page">
          <div class="message_container">
            <div class="message_block" v-for="(item,index) in messages" :key="item.index">
              <div class="message_wrapper">
                <div class="user_name">William</div>
                <div class="text">{{item.text}}</div>
                <div class="audio_wrapper">
                  <audio :src="item.audioUrl" controls="true" controlsList="nodownload" v-if="item.audioUrl" :autoplay="Date.now()-item.timestamp&lt;1000"></audio><span class="timestamp">{{item.timestamp|timeFormat}}</span>
                </div>
              </div>
            </div>
          </div>
          <div class="input_container">
            <div class="input_wrapper">
              <textarea type="text" v-model="tempMsg.text" :disabled="msgRecognizing"></textarea>
              <div class="audio_wrapper" v-if="tempMsg.audioUrl&amp;&amp;!msgRecognizing">
                <audio :src="tempMsg.audioUrl" controls="true" controlsList="nodownload"></audio>
              </div>
            </div>
            <div class="btn_wrapper">
              <button class="send_btn" @click="sendMsg" :disabled="msgRecording"> 
                <div>Send</div><span class="auto_send" @click.stop>
                  <input type="checkbox" v-model="autoSend" id="autoSend" name="autoSend" value="false" @click.stop>
                  <label for="autoSend" @click.stop>auto</label></span>
              </button>
              <button class="record_btn" @click="inputRecognition" :disabled="msgRecognizing" :class="{recording:msgRecording}"><i class="fas fa-microphone"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="./js/talkApp.js"></script>
  </body>
</html>